



<!DOCTYPE html>
<html lang="pt-br" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://marcosalpereira.github.io/curso-angular-spring-boot/exercicios/exercicio-10/">
      
      
      
        <meta name="lang:clipboard.copy" content="">
      
        <meta name="lang:clipboard.copied" content="">
      
        <meta name="lang:search.language" content="">
      
        <meta name="lang:search.pipeline.stopwords" content="">
      
        <meta name="lang:search.pipeline.trimmer" content="">
      
        <meta name="lang:search.result.none" content="Sem documentos correspondentes">
      
        <meta name="lang:search.result.one" content="1 documento correspondente">
      
        <meta name="lang:search.result.other" content="# documentos correspondentes">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.4">
    
    
      
        <title>10 - Interação entre Componentes - Introdução ao Framework Angular</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
  </head>
  
    <body dir="">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#exercicio-10" tabindex="1" class="md-skip">
        
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://marcosalpereira.github.io/curso-angular-spring-boot/" title="Introdução ao Framework Angular" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Introdução ao Framework Angular
              </span>
              <span class="md-header-nav__topic">
                10 - Interação entre Componentes
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Pesquisar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Digite para iniciar a pesquisa
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/marcosalpereira/curso-angular-spring-boot/" title="Vá para o repositório" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://marcosalpereira.github.io/curso-angular-spring-boot/" title="Introdução ao Framework Angular" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Introdução ao Framework Angular
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/marcosalpereira/curso-angular-spring-boot/" title="Vá para o repositório" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Exercícios
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Exercícios
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-01/" title="01 - Instalação" class="md-nav__link">
      01 - Instalação
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-02/" title="02 - Primeira Aplicação Angular" class="md-nav__link">
      02 - Primeira Aplicação Angular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-03/" title="03 - O Editor de Heróis" class="md-nav__link">
      03 - O Editor de Heróis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-04/" title="04 - O Padrão Mestre/Detalhe" class="md-nav__link">
      04 - O Padrão Mestre/Detalhe
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-05/" title="05 - Componentes" class="md-nav__link">
      05 - Componentes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-06/" title="06 - Serviços" class="md-nav__link">
      06 - Serviços
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-07/" title="07 - Navegação" class="md-nav__link">
      07 - Navegação
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-08/" title="08 - HTTP" class="md-nav__link">
      08 - HTTP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-09/" title="09 - Lifecycle Hooks" class="md-nav__link">
      09 - Lifecycle Hooks
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        10 - Interação entre Componentes
      </label>
    
    <a href="./" title="10 - Interação entre Componentes" class="md-nav__link md-nav__link--active">
      10 - Interação entre Componentes
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Índice</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objetivos" title="Objetivos" class="md-nav__link">
    Objetivos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duracao" title="Duração" class="md-nav__link">
    Duração
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparando-o-ambiente" title="Preparando o ambiente" class="md-nav__link">
    Preparando o ambiente
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#passando-dados-do-pai-para-o-filho-com-binding-de-input" title="Passando dados do pai para o filho com binding de input" class="md-nav__link">
    Passando dados do pai para o filho com binding de input
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#criando-inputs-no-herochildcomponent" title="Criando inputs no HeroChildComponent" class="md-nav__link">
    Criando inputs no HeroChildComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fazendo-binding-dos-inputs" title="Fazendo binding dos inputs" class="md-nav__link">
    Fazendo binding dos inputs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interceptando-mudancas-na-propriedade-de-input-com-um-setter" title="Interceptando mudanças na propriedade de input com um setter" class="md-nav__link">
    Interceptando mudanças na propriedade de input com um setter
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definindo-uma-propriedade-via-metodos-setter-e-getter" title="Definindo uma propriedade via métodos setter e getter" class="md-nav__link">
    Definindo uma propriedade via métodos setter e getter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o-componente-nameparentcomponent" title="O componente NameParentComponent" class="md-nav__link">
    O componente NameParentComponent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interceptando-mudancas-na-propriedade-de-input-com-ngonchanges" title="Interceptando mudanças na propriedade de input com ngOnChanges()" class="md-nav__link">
    Interceptando mudanças na propriedade de input com ngOnChanges()
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#criando-o-componente-versionchildcomponent" title="Criando o componente VersionChildComponent" class="md-nav__link">
    Criando o componente VersionChildComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#criando-o-componente-versionparentcomponent" title="Criando o componente VersionParentComponent" class="md-nav__link">
    Criando o componente VersionParentComponent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componente-pai-escutando-eventos-do-componente-filho" title="Componente pai escutando eventos do componente filho" class="md-nav__link">
    Componente pai escutando eventos do componente filho
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o-componente-votercomponent" title="O componente VoterComponent" class="md-nav__link">
    O componente VoterComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o-componente-votetakercomponent" title="O componente VoteTakerComponent" class="md-nav__link">
    O componente VoteTakerComponent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componente-pai-interagindo-com-o-filho-via-variavel-local" title="Componente pai interagindo com o filho via variável local" class="md-nav__link">
    Componente pai interagindo com o filho via variável local
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o-componente-countdowntimercomponent" title="O componente CountdownTimerComponent" class="md-nav__link">
    O componente CountdownTimerComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o-componente-countdownlocalvarparentcomponent" title="O componente CountdownLocalVarParentComponent" class="md-nav__link">
    O componente CountdownLocalVarParentComponent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componente-pai-chamando-um-viewchild" title="Componente pai chamando um @ViewChild()" class="md-nav__link">
    Componente pai chamando um @ViewChild()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comunicacao-via-servico" title="Comunicação via serviço" class="md-nav__link">
    Comunicação via serviço
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o-servico-missionservice" title="O serviço MissionService" class="md-nav__link">
    O serviço MissionService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o-componente-missioncontrolcomponent" title="O componente MissionControlComponent" class="md-nav__link">
    O componente MissionControlComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o-componente-astronautcomponent" title="O componente AstronautComponent" class="md-nav__link">
    O componente AstronautComponent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revisando-a-estrutura-da-aplicacao" title="Revisando a estrutura da aplicação" class="md-nav__link">
    Revisando a estrutura da aplicação
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resumo" title="Resumo" class="md-nav__link">
    Resumo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proximo-passo" title="Próximo passo" class="md-nav__link">
    Próximo passo
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-11/" title="11 - Diretivas Estruturais" class="md-nav__link">
      11 - Diretivas Estruturais
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-12/" title="12 - Diretivas de Atributo" class="md-nav__link">
      12 - Diretivas de Atributo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-13/" title="13 - Pipes" class="md-nav__link">
      13 - Pipes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-14/" title="14 - Template-Driven Forms" class="md-nav__link">
      14 - Template-Driven Forms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercicio-15/" title="15 - Reactive Forms" class="md-nav__link">
      15 - Reactive Forms
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Índice</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objetivos" title="Objetivos" class="md-nav__link">
    Objetivos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duracao" title="Duração" class="md-nav__link">
    Duração
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparando-o-ambiente" title="Preparando o ambiente" class="md-nav__link">
    Preparando o ambiente
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#passando-dados-do-pai-para-o-filho-com-binding-de-input" title="Passando dados do pai para o filho com binding de input" class="md-nav__link">
    Passando dados do pai para o filho com binding de input
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#criando-inputs-no-herochildcomponent" title="Criando inputs no HeroChildComponent" class="md-nav__link">
    Criando inputs no HeroChildComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fazendo-binding-dos-inputs" title="Fazendo binding dos inputs" class="md-nav__link">
    Fazendo binding dos inputs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interceptando-mudancas-na-propriedade-de-input-com-um-setter" title="Interceptando mudanças na propriedade de input com um setter" class="md-nav__link">
    Interceptando mudanças na propriedade de input com um setter
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definindo-uma-propriedade-via-metodos-setter-e-getter" title="Definindo uma propriedade via métodos setter e getter" class="md-nav__link">
    Definindo uma propriedade via métodos setter e getter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o-componente-nameparentcomponent" title="O componente NameParentComponent" class="md-nav__link">
    O componente NameParentComponent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interceptando-mudancas-na-propriedade-de-input-com-ngonchanges" title="Interceptando mudanças na propriedade de input com ngOnChanges()" class="md-nav__link">
    Interceptando mudanças na propriedade de input com ngOnChanges()
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#criando-o-componente-versionchildcomponent" title="Criando o componente VersionChildComponent" class="md-nav__link">
    Criando o componente VersionChildComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#criando-o-componente-versionparentcomponent" title="Criando o componente VersionParentComponent" class="md-nav__link">
    Criando o componente VersionParentComponent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componente-pai-escutando-eventos-do-componente-filho" title="Componente pai escutando eventos do componente filho" class="md-nav__link">
    Componente pai escutando eventos do componente filho
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o-componente-votercomponent" title="O componente VoterComponent" class="md-nav__link">
    O componente VoterComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o-componente-votetakercomponent" title="O componente VoteTakerComponent" class="md-nav__link">
    O componente VoteTakerComponent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componente-pai-interagindo-com-o-filho-via-variavel-local" title="Componente pai interagindo com o filho via variável local" class="md-nav__link">
    Componente pai interagindo com o filho via variável local
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o-componente-countdowntimercomponent" title="O componente CountdownTimerComponent" class="md-nav__link">
    O componente CountdownTimerComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o-componente-countdownlocalvarparentcomponent" title="O componente CountdownLocalVarParentComponent" class="md-nav__link">
    O componente CountdownLocalVarParentComponent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componente-pai-chamando-um-viewchild" title="Componente pai chamando um @ViewChild()" class="md-nav__link">
    Componente pai chamando um @ViewChild()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comunicacao-via-servico" title="Comunicação via serviço" class="md-nav__link">
    Comunicação via serviço
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o-servico-missionservice" title="O serviço MissionService" class="md-nav__link">
    O serviço MissionService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o-componente-missioncontrolcomponent" title="O componente MissionControlComponent" class="md-nav__link">
    O componente MissionControlComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o-componente-astronautcomponent" title="O componente AstronautComponent" class="md-nav__link">
    O componente AstronautComponent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revisando-a-estrutura-da-aplicacao" title="Revisando a estrutura da aplicação" class="md-nav__link">
    Revisando a estrutura da aplicação
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resumo" title="Resumo" class="md-nav__link">
    Resumo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proximo-passo" title="Próximo passo" class="md-nav__link">
    Próximo passo
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/marcosalpereira/curso-angular-spring-boot/edit/master/docs/exercicios/exercicio-10.md" title="Editar esta página" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="exercicio-10">Exercício 10<a class="headerlink" href="#exercicio-10" title="Permanent link">&para;</a></h1>
<h2 id="objetivos">Objetivos<a class="headerlink" href="#objetivos" title="Permanent link">&para;</a></h2>
<ul>
<li>Demonstrar as formas de interação entre componentes</li>
</ul>
<h2 id="duracao">Duração<a class="headerlink" href="#duracao" title="Permanent link">&para;</a></h2>
<p>60 minutos</p>
<h2 id="preparando-o-ambiente">Preparando o ambiente<a class="headerlink" href="#preparando-o-ambiente" title="Permanent link">&para;</a></h2>
<p>Crie uma nova aplicação chamada <strong>exercicio-component-interaction</strong> e deixe-a rodando:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng new exercicio-component-interaction
<span class="nb">cd</span> exercicio-component-interaction
npm run start
</pre></div>
</td></tr></table>

<p>O comando <code>npm run start</code> iniciará um servidor local para desenvolvimento em "<em>watch mode</em>", ou seja, qualquer edição nos arquivos, irá recompilar e recarregar a aplicação no browser. Acesse sua app no endereço local: <a href="http://localhost:4200/">http://localhost:4200/</a>.</p>
<h2 id="passando-dados-do-pai-para-o-filho-com-binding-de-input">Passando dados do pai para o filho com binding de input<a class="headerlink" href="#passando-dados-do-pai-para-o-filho-com-binding-de-input" title="Permanent link">&para;</a></h2>
<p>Para demonstrar a interação entre os componentes com o binding de input, vamos criar dois componentes: <code>HeroChildComponent</code> e <code>HeroParentComponent</code>.</p>
<p>Para criar o componente <code>HeroChildComponent</code>, digite o seguinte comando na pasta raiz da aplicação:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component hero-child --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>Estamos usando a funcionalidade de scaffolding do Angular CLI para criar o esqueleto do componente.</p>
<p>Por padrão, esse comando cria um componente numa subpasta com o mesmo nome do componente, além de criar também os arquivos de testes unitários (<code>.spec.ts</code>), CSS (<code>.component.css</code>) e template (<code>.component.html</code>) para o componente, já registrando-o no módulo <code>AppModule</code> da aplicação.</p>
<p>Estamos mudando esse comportamento padrão com as seguintes flags (opcionais):</p>
<ul>
<li><code>--no-spec</code>: indica que não queremos a geração do arquivo <code>.spec.ts</code> (testes unitários);</li>
<li><code>--flat</code>: indica que não queremos a geração da subpasta <code>src/app/hero-child</code> para o componente;</li>
<li><code>--inline-style true</code>: indica que não queremos a geração do arquivo <code>.component.css</code> para o componente;</li>
<li><code>--inline-template true</code> indica que não queremos a geração do arquivo <code>.component.html</code> para o template do componente.</li>
</ul>
<p>O resultado esperado, então, é algo como:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>create src/app/hero-child.component.ts <span class="o">(</span><span class="m">267</span> bytes<span class="o">)</span>
update src/app/app.module.ts <span class="o">(</span><span class="m">400</span> bytes<span class="o">)</span>
</pre></div>
</td></tr></table>

<p>Para criar o componente pai, repita o processo, mas dessa vez, utilize o nome <code>hero-parent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component hero-parent --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>Como resultado, o conteúdo do componente <code>HeroChildComponent</code> deve ser algo como:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-hero-child&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;p&gt;</span>
<span class="sb">      hero-child works!</span>
<span class="sb">    &lt;/p&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">HeroChildComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>O conteúdo do componente <code>HeroParentComponent</code> deve ser algo como:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-hero-parent&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;p&gt;</span>
<span class="sb">      hero-parent works!</span>
<span class="sb">    &lt;/p&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">HeroParentComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>E, adicionalmente, o <code>AppModule</code> já deve estar declarando os componentes:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">BrowserModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/platform-browser&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">AppComponent</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./app.component&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">HeroChildComponent</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./hero-child.component&#39;</span><span class="p">;</span>  <span class="c1">// &lt;-- adicionado pelo Angular CLI</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">HeroParentComponent</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./hero-parent.component&#39;</span><span class="p">;</span>  <span class="c1">// &lt;-- adicionado pelo Angular CLI</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">AppComponent</span><span class="p">,</span>
    <span class="nx">HeroChildComponent</span><span class="p">,</span>  <span class="c1">// &lt;-- adicionado pelo Angular CLI </span>
    <span class="nx">HeroParentComponent</span><span class="p">,</span> <span class="c1">// &lt;-- adicionado pelo Angular CLI</span>
  <span class="p">],</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">BrowserModule</span>
  <span class="p">],</span>
  <span class="nx">providers</span><span class="o">:</span> <span class="p">[],</span>
  <span class="nx">bootstrap</span><span class="o">:</span> <span class="p">[</span><span class="nx">AppComponent</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="criando-inputs-no-herochildcomponent">Criando inputs no <code>HeroChildComponent</code><a class="headerlink" href="#criando-inputs-no-herochildcomponent" title="Permanent link">&para;</a></h3>
<p>No componente filho (<code>HeroChildComponent</code>), adicione duas novas propriedades de input (marcadas com o decorador <code>@Input</code>):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">hero</span><span class="o">:</span> <span class="nx">Hero</span><span class="p">;</span>
<span class="err">@</span><span class="nx">Input</span><span class="p">(</span><span class="s1">&#39;master&#39;</span><span class="p">)</span> <span class="nx">masterName</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>O primeiro input, a propriedade <code>hero</code>, é do tipo <code>Hero</code>. Essa é a mesma classe que usamos no Tour of Heroes anteriormente.</p>
<p>O segundo input, a propriedade <code>masterName</code> é uma string comum. A diferença aqui é que o decorador <code>@Input</code> define o alias <code>master</code> para a propriedade <code>masterName</code> do componente.</p>
<p>Crie, então, o arquivo <code>hero.ts</code> na pasta <code>/src/app</code> com o conteúdo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">export</span> <span class="kr">class</span> <span class="nx">Hero</span> <span class="p">{</span>
  <span class="nx">id</span><span class="o">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nx">name</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>E agora inclua os imports necessários no <code>HeroChildComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Input</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Hero</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./hero&#39;</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>Modifique o template do componente, para a exibição das propriedades de input:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">  &lt;h3&gt;{{hero.name}} says:&lt;/h3&gt;</span>
<span class="sb">  &lt;p&gt;I, {{hero.name}}, am at your service, {{masterName}}.&lt;/p&gt;</span>
<span class="sb">`</span>
</pre></div>
</td></tr></table>

<p>O resultado final do componente deve ser como abaixo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">Input</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Hero</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./hero&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-hero-child&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;h3&gt;{{hero.name}} says:&lt;/h3&gt;</span>
<span class="sb">    &lt;p&gt;I, {{hero.name}}, am at your service, {{masterName}}.&lt;/p&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">HeroChildComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">hero</span><span class="o">:</span> <span class="nx">Hero</span><span class="p">;</span>
  <span class="err">@</span><span class="nx">Input</span><span class="p">(</span><span class="s1">&#39;master&#39;</span><span class="p">)</span> <span class="nx">masterName</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="fazendo-binding-dos-inputs">Fazendo binding dos inputs<a class="headerlink" href="#fazendo-binding-dos-inputs" title="Permanent link">&para;</a></h3>
<p>Antes de demonstrar o binding das propriedades de input, volte ao <code>hero.ts</code> e crie um array de heróis como abaixo.</p>
<p><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">export</span> <span class="kr">const</span> <span class="nx">HEROES</span><span class="o">:</span> <span class="nx">Hero</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Mr. IQ&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">11</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Magneta&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">12</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Bombasto&#39;</span><span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
Não esqueça de incluir o <code>export</code>, para que o array possa ser importado em qualquer outro lugar.</p>
<p>Inclua, agora, as propriedades <code>heroes</code> e <code>master</code> no <code>HeroParentComponent</code> como a seguir:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">heroes</span> <span class="o">=</span> <span class="nx">HEROES</span><span class="p">;</span> <span class="c1">// &lt;-- aqui estamos fazendo uma referência ao array que acabamos de criar</span>
<span class="nx">master</span> <span class="o">=</span> <span class="s1">&#39;Master&#39;</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>Inclua então o <code>import</code> para o array <code>HEROES</code> no <code>HeroParentComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">HEROES</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./hero&#39;</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>Queremos então passar os dados das propriedades <code>heroes</code> e <code>master</code> do componente pai <code>HeroParentComponent</code> para as propriedades do componente filho <code>HeroChildComponent</code>.</p>
<p>Para isso, O <code>HeroParentComponent</code> aninha o componente filho <code>HeroChildComponent</code> dentro de um repetidor da diretiva <code>*ngFor</code>, fazendo o binding da sua propriedade <code>master</code> com o input <code>master</code> do componente filho, e o binding de cada instância do herói dessa repetição ao input <code>hero</code> do componente filho.</p>
<p>Modifique então o template do componente <code>HeroParentComponent</code>: </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">  &lt;h2&gt;{{master}} controls {{heroes.length}} heroes&lt;/h2&gt;</span>
<span class="sb">  &lt;app-hero-child *ngFor=&quot;let hero of heroes&quot;</span>
<span class="sb">    [hero]=&quot;hero&quot;</span>
<span class="sb">    [master]=&quot;master&quot;&gt;</span>
<span class="sb">  &lt;/app-hero-child&gt;</span>
<span class="sb">`</span>
</pre></div>
</td></tr></table>

<p>O resultado final do componente <code>HeroParentComponent</code> é:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">HEROES</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./hero&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-hero-parent&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;h2&gt;{{master}} controls {{heroes.length}} heroes&lt;/h2&gt;</span>
<span class="sb">    &lt;app-hero-child *ngFor=&quot;let hero of heroes&quot;</span>
<span class="sb">      [hero]=&quot;hero&quot;</span>
<span class="sb">      [master]=&quot;master&quot;&gt;</span>
<span class="sb">    &lt;/app-hero-child&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">HeroParentComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">heroes</span> <span class="o">=</span> <span class="nx">HEROES</span><span class="p">;</span>
  <span class="nx">master</span> <span class="o">=</span> <span class="s1">&#39;Master&#39;</span><span class="p">;</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Para visualizar o resultado, modifique o conteúdo do arquivo <code>app.component.html</code> para:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;top&quot;</span><span class="p">&gt;</span>Component Communication Cookbook<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#parent-to-child&quot;</span><span class="p">&gt;</span>Pass data from parent to child with input binding (&quot;Heroes&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;parent-to-child&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-hero-parent</span><span class="p">&gt;&lt;/</span><span class="nt">app-hero-parent</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<p>A aplicação deve exibir os três heróis do array:</p>
<p><img alt="" src="../img/parent-to-child.png" /></p>
<h2 id="interceptando-mudancas-na-propriedade-de-input-com-um-setter">Interceptando mudanças na propriedade de input com um setter<a class="headerlink" href="#interceptando-mudancas-na-propriedade-de-input-com-um-setter" title="Permanent link">&para;</a></h2>
<p>Vamos agora definir um setter para interceptar o binding da propriedade de input.</p>
<p>Crie o componente <code>name-child</code> com o seguinte comando na pasta raiz da aplicação:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component name-child --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>Crie também o componente <code>name-parent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component name-parent --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>Como resultado, os componentes <code>NameChildComponent</code> e <code>NameParentComponent</code> foram criados na pasta <code>src/app</code> e o <code>AppModule</code> foi modificado para incluir a declaração desses novos componentes:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span>
  <span class="nx">AppComponent</span><span class="p">,</span>
  <span class="nx">HeroChildComponent</span><span class="p">,</span>
  <span class="nx">HeroParentComponent</span><span class="p">,</span>
  <span class="nx">NameChildComponent</span><span class="p">,</span>  <span class="c1">// &lt;-- incluído</span>
  <span class="nx">NameParentComponent</span><span class="p">,</span> <span class="c1">// &lt;-- incluído</span>
<span class="p">],</span>
</pre></div>
</td></tr></table>

<h3 id="definindo-uma-propriedade-via-metodos-setter-e-getter">Definindo uma propriedade via métodos setter e getter<a class="headerlink" href="#definindo-uma-propriedade-via-metodos-setter-e-getter" title="Permanent link">&para;</a></h3>
<p>Modifique o componente <code>NameChildComponent</code> para o seguinte conteúdo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">Input</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-name-child&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="s1">&#39;&lt;h3&gt;&quot;{{name}}&quot;&lt;/h3&gt;&#39;</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">NameChildComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="kr">private</span> <span class="nx">_name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

  <span class="err">@</span><span class="nx">Input</span><span class="p">()</span>
  <span class="nx">set</span> <span class="nx">name</span><span class="p">(</span><span class="nx">name</span><span class="o">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_name</span> <span class="o">=</span> <span class="p">(</span><span class="nx">name</span> <span class="o">&amp;&amp;</span> <span class="nx">name</span><span class="p">.</span><span class="nx">trim</span><span class="p">())</span> <span class="o">||</span> <span class="s1">&#39;&lt;no name set&gt;&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">get</span> <span class="nx">name</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_name</span><span class="p">;</span> <span class="p">}</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Perceba que, apesar de o componente não possuir uma propriedade pública <code>name</code>, o template faz uma interpolação para exibir o valor da propriedade <code>name</code>.</p>
<p>Ao invés disso, o componente define os métodos setter e getter da propriedade: </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">set</span> <span class="nx">name</span><span class="p">(</span><span class="nx">name</span><span class="o">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">_name</span> <span class="o">=</span> <span class="p">(</span><span class="nx">name</span> <span class="o">&amp;&amp;</span> <span class="nx">name</span><span class="p">.</span><span class="nx">trim</span><span class="p">())</span> <span class="o">||</span> <span class="s1">&#39;&lt;no name set&gt;&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">get</span> <span class="nx">name</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_name</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Para o template, essa construção tem o mesmo efeito que criar uma propriedade pública <code>name</code> no componente. O valor setado no método setter é guardado na propriedade privada <code>_name</code>, e esse valor é devolvido no método getter, quando necessário (para ser exibido na tela, por exemplo).</p>
<p>A diferença é que, com essa construção, o componente pode interceptar o método setter a fim de atribuir um valor padrão para a propriedade privada <code>_name</code> caso receba uma string vazia como parâmetro (isto é, caso o parâmetro <code>name</code> seja <code>undefined</code> ou esteja preenchido somente com espaços em branco).</p>
<p>Para permitir que outros componentes façam o binding com o input <code>name</code>, incluímos o decorador <code>@Input</code> ao método setter:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="err">@</span><span class="nx">Input</span><span class="p">()</span>
<span class="nx">set</span> <span class="nx">name</span><span class="p">(</span><span class="nx">name</span><span class="o">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="o-componente-nameparentcomponent">O componente <code>NameParentComponent</code><a class="headerlink" href="#o-componente-nameparentcomponent" title="Permanent link">&para;</a></h3>
<p>Mude sua atenção agora para o componente <code>NameParentComponent</code>, que criamos anteriormente.</p>
<p>Modifique o template do componente como abaixo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">  &lt;h2&gt;Master controls {{names.length}} names&lt;/h2&gt;</span>
<span class="sb">  &lt;name-child *ngFor=&quot;let name of names&quot; [name]=&quot;name&quot;&gt;&lt;/name-child&gt;</span>
<span class="sb">`</span><span class="p">,</span>
</pre></div>
</td></tr></table>

<p>Inclua, então, a propriedade <code>names</code> referenciada no template:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Mr. IQ&#39;</span><span class="p">,</span> <span class="s1">&#39;   &#39;</span><span class="p">,</span> <span class="s1">&#39;  Bombasto  &#39;</span><span class="p">];</span>
</pre></div>
</td></tr></table>

<p>O resultado final do componente deve ser como abaixo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-name-parent&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;h2&gt;Master controls {{names.length}} names&lt;/h2&gt;</span>
<span class="sb">    &lt;app-name-child *ngFor=&quot;let name of names&quot; [name]=&quot;name&quot;&gt;&lt;/app-name-child&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">NameParentComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="c1">// Displays &#39;Mr. IQ&#39;, &#39;&lt;no name set&gt;&#39;, &#39;Bombasto&#39;</span>
  <span class="nx">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Mr. IQ&#39;</span><span class="p">,</span> <span class="s1">&#39;   &#39;</span><span class="p">,</span> <span class="s1">&#39;  Bombasto  &#39;</span><span class="p">];</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Para demonstrar o uso desse componente, modifique o template <code>app.component.html</code> para: </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;top&quot;</span><span class="p">&gt;</span>Component Communication Cookbook<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#parent-to-child&quot;</span><span class="p">&gt;</span>Pass data from parent to child with input binding (&quot;Heroes&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#parent-to-child-setter&quot;</span><span class="p">&gt;</span>Intercept input property changes with a setter (&quot;Master&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;parent-to-child&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-hero-parent</span><span class="p">&gt;&lt;/</span><span class="nt">app-hero-parent</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;parent-to-child-setter&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-name-parent</span><span class="p">&gt;&lt;/</span><span class="nt">app-name-parent</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<p>Você deverá ver algo como:</p>
<p><img alt="" src="../img/setter.png" /></p>
<h2 id="interceptando-mudancas-na-propriedade-de-input-com-ngonchanges">Interceptando mudanças na propriedade de input com <code>ngOnChanges()</code><a class="headerlink" href="#interceptando-mudancas-na-propriedade-de-input-com-ngonchanges" title="Permanent link">&para;</a></h2>
<p>Com o método setter é possível interceptar as mudanças a uma propriedade de input, como vimos no exemplo anterior.</p>
<p>Também é possível interceptar essas mudanças com o método <code>ngOnChanges()</code> da interface <code>OnChanges</code> do lifecycle hook. A diferença é que, com o método <code>ngOnChanges()</code>, é possível observar as mudanças a várias propriedades no mesmo método, de forma que podemos criar uma lógica de interação entre elas.</p>
<h3 id="criando-o-componente-versionchildcomponent">Criando o componente <code>VersionChildComponent</code><a class="headerlink" href="#criando-o-componente-versionchildcomponent" title="Permanent link">&para;</a></h3>
<p>Crie o componente <code>VersionChildComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component version-child --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>Esse componente é responsável por exibir uma versão no formato "major.minor", bem como um registro de logs das mudanças nessa versão.</p>
<p>Modifique o conteúdo do componente <code>VersionChildComponent</code> para:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">Input</span><span class="p">,</span> <span class="nx">SimpleChange</span><span class="p">,</span> <span class="nx">OnChanges</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-version-child&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;h3&gt;Version {{major}}.{{minor}}&lt;/h3&gt;</span>
<span class="sb">    &lt;h4&gt;Change log:&lt;/h4&gt;</span>
<span class="sb">    &lt;ul&gt;</span>
<span class="sb">      &lt;li *ngFor=&quot;let change of changeLog&quot;&gt;{{change}}&lt;/li&gt;</span>
<span class="sb">    &lt;/ul&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">VersionChildComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">OnChanges</span> <span class="p">{</span>

  <span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">major</span><span class="o">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">minor</span><span class="o">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nx">changeLog</span><span class="o">:</span> <span class="nx">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nx">ngOnChanges</span><span class="p">(</span><span class="nx">changes</span><span class="o">:</span> <span class="p">{[</span><span class="nx">propKey</span><span class="o">:</span> <span class="nx">string</span><span class="p">]</span><span class="o">:</span> <span class="nx">SimpleChange</span><span class="p">})</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">log</span><span class="o">:</span> <span class="nx">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">propName</span> <span class="k">in</span> <span class="nx">changes</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">changedProp</span> <span class="o">=</span> <span class="nx">changes</span><span class="p">[</span><span class="nx">propName</span><span class="p">];</span>
      <span class="kd">let</span> <span class="nx">to</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">changedProp</span><span class="p">.</span><span class="nx">currentValue</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">changedProp</span><span class="p">.</span><span class="nx">isFirstChange</span><span class="p">())</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="sb">`Initial value of </span><span class="si">${</span><span class="nx">propName</span><span class="si">}</span><span class="sb"> set to </span><span class="si">${</span><span class="nx">to</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">from</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">changedProp</span><span class="p">.</span><span class="nx">previousValue</span><span class="p">);</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">propName</span><span class="si">}</span><span class="sb"> changed from </span><span class="si">${</span><span class="nx">from</span><span class="si">}</span><span class="sb"> to </span><span class="si">${</span><span class="nx">to</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">changeLog</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">log</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">));</span>
  <span class="p">}</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Em resumo, o componente <code>VersionChildComponent</code>:</p>
<ul>
<li>define as propriedades <code>major</code> e <code>minor</code> para guardar a versão, marcando-as com o decorador <code>@Input</code>;</li>
<li>define a propriedade <code>changeLog</code> para guardar os registros de log das mudanças;</li>
<li>exibe as propriedades <code>major</code> e <code>minor</code> no template via interpolação;</li>
<li>exibe cada um dos registros de log através de um laço de repetição com a diretiva <code>*ngFor</code>;</li>
<li>implementa o método <code>ngOnChanges()</code> para capturar as mudanças às propriedades <code>major</code> e <code>minor</code>, registrando-as na propriedade <code>changeLog</code>.</li>
</ul>
<h3 id="criando-o-componente-versionparentcomponent">Criando o componente <code>VersionParentComponent</code><a class="headerlink" href="#criando-o-componente-versionparentcomponent" title="Permanent link">&para;</a></h3>
<p>Crie o componente <code>VersionParentComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component version-parent --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>O componente pai <code>VersionParentComponent</code>, além de aninhar o componente filho <code>VersionChildComponent</code>, também permite a mudança da versão, disponibilizando um botão para o incremento da versão major e outro botão para o incremento da versão minor.</p>
<p>Modifique o template do componente <code>VersionParentComponent</code> para:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">  &lt;h2&gt;Source code version&lt;/h2&gt;</span>
<span class="sb">  &lt;button (click)=&quot;newMinor()&quot;&gt;New minor version&lt;/button&gt;</span>
<span class="sb">  &lt;button (click)=&quot;newMajor()&quot;&gt;New major version&lt;/button&gt;</span>
<span class="sb">  &lt;app-version-child [major]=&quot;major&quot; [minor]=&quot;minor&quot;&gt;&lt;/app-version-child&gt;</span>
<span class="sb">`</span><span class="p">,</span>
</pre></div>
</td></tr></table>

<p>Inclua as propriedades <code>major</code> e <code>minor</code> (inicializando-as) e os métodos <code>newMinor()</code> e <code>newMajor()</code> referenciados no template do componente:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">major</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">minor</span> <span class="o">=</span> <span class="mi">23</span><span class="p">;</span>

<span class="nx">newMinor</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">minor</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">newMajor</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">major</span><span class="o">++</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">minor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>O resultado final do componente <code>VersionParentComponent</code> é:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-version-parent&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;h2&gt;Source code version&lt;/h2&gt;</span>
<span class="sb">    &lt;button (click)=&quot;newMinor()&quot;&gt;New minor version&lt;/button&gt;</span>
<span class="sb">    &lt;button (click)=&quot;newMajor()&quot;&gt;New major version&lt;/button&gt;</span>
<span class="sb">    &lt;app-version-child [major]=&quot;major&quot; [minor]=&quot;minor&quot;&gt;&lt;/app-version-child&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">VersionParentComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">major</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="nx">minor</span> <span class="o">=</span> <span class="mi">23</span><span class="p">;</span>

  <span class="nx">newMinor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">minor</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">newMajor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">major</span><span class="o">++</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">minor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Inclua então o seguinte trecho no topo do template <code>app.component.html</code>: </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">&lt;!-- ... --&gt;</span>

<span class="c">&lt;!-- inclua um novo elemento &quot;a&quot; abaixo dos já existentes --&gt;</span>

<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#parent-to-child-on-changes&quot;</span><span class="p">&gt;</span>Intercept input property changes with <span class="p">&lt;</span><span class="nt">i</span><span class="p">&gt;</span>ngOnChanges<span class="p">&lt;/</span><span class="nt">i</span><span class="p">&gt;</span> (&quot;Source code version&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>

<span class="c">&lt;!-- ... --&gt;</span>

<span class="c">&lt;!-- inclua o seguinte trecho ao final do template --&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;parent-to-child-on-changes&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-version-parent</span><span class="p">&gt;&lt;/</span><span class="nt">app-version-parent</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<p>Esse é o resultado esperado:</p>
<p><img alt="" src="../img/parent-to-child-on-changes.gif" /></p>
<h2 id="componente-pai-escutando-eventos-do-componente-filho">Componente pai escutando eventos do componente filho<a class="headerlink" href="#componente-pai-escutando-eventos-do-componente-filho" title="Permanent link">&para;</a></h2>
<p>Até agora demonstramos a interação entre os componentes somente no sentido "do pai para o filho". Vamos agora demonstrar a interação no sentido inverso, isto é, no sentido "do filho para o pai".</p>
<h3 id="o-componente-votercomponent">O componente <code>VoterComponent</code><a class="headerlink" href="#o-componente-votercomponent" title="Permanent link">&para;</a></h3>
<p>Crie o componente <code>VoterComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component voter --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>Modifique o template do componente para:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">  &lt;h4&gt;{{name}}&lt;/h4&gt;</span>
<span class="sb">  &lt;button (click)=&quot;vote(true)&quot;  [disabled]=&quot;voted&quot;&gt;Agree&lt;/button&gt;</span>
<span class="sb">  &lt;button (click)=&quot;vote(false)&quot; [disabled]=&quot;voted&quot;&gt;Disagree&lt;/button&gt;</span>
<span class="sb">`</span><span class="p">,</span>
</pre></div>
</td></tr></table>

<p>O template simula uma votação, disponibilizando dois botões para a tomada de decisão.</p>
<p>Em cada um dos botões é feito um binding de evento, de forma que o clique do botão irá invocar o método <code>vote()</code> do componente <code>VoterComponent</code>, passando como parâmetro o booleano que indica qual foi o voto escolhido. Após a votação, os botões são desabilitados.</p>
<p>Vamos então criar as propriedades e métodos referenciados no template:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="err">@</span><span class="nx">Input</span><span class="p">()</span>  <span class="nx">name</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span> <span class="c1">// &lt;-- não esqueça do import para o símbolo &quot;Input&quot;</span>

<span class="nx">voted</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="nx">vote</span><span class="p">(</span><span class="nx">agreed</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">voted</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Para fazer a interação no sentido "do filho para o pai", vamos incluir uma nova propriedade de output do tipo <code>EventEmitter</code>. A propriedade deve estar adornada com o decorador <code>@Output</code> como abaixo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="err">@</span><span class="nx">Output</span><span class="p">()</span> <span class="nx">onVoted</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="o">&lt;</span><span class="kr">boolean</span><span class="o">&gt;</span><span class="p">();</span> <span class="c1">// &lt;-- não esqueça do import para o símbolo &quot;EventEmitter&quot;</span>
</pre></div>
</td></tr></table>

<p>Com a propriedade <code>EventEmitter</code>, o componente filho emite um evento quando algo acontece (no nosso caso, quando o voto é computado):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">vote</span><span class="p">(</span><span class="nx">agreed</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">onVoted</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="nx">agreed</span><span class="p">);</span>  <span class="c1">// &lt;!-- incluído</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">voted</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Dessa forma, quando um dos botões é clicado, um evento booleano é emitido para o componente pai, que poderá capturá-lo e atuar conforme a necessidade.</p>
<p>A versão final do componente <code>VoterComponent</code> é:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">Input</span><span class="p">,</span> <span class="nx">Output</span><span class="p">,</span> <span class="nx">EventEmitter</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-voter&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;h4&gt;{{name}}&lt;/h4&gt;</span>
<span class="sb">    &lt;button (click)=&quot;vote(true)&quot;  [disabled]=&quot;voted&quot;&gt;Agree&lt;/button&gt;</span>
<span class="sb">    &lt;button (click)=&quot;vote(false)&quot; [disabled]=&quot;voted&quot;&gt;Disagree&lt;/button&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">VoterComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="err">@</span><span class="nx">Input</span><span class="p">()</span>  <span class="nx">name</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="err">@</span><span class="nx">Output</span><span class="p">()</span> <span class="nx">onVoted</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="o">&lt;</span><span class="kr">boolean</span><span class="o">&gt;</span><span class="p">();</span>

  <span class="nx">voted</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="nx">vote</span><span class="p">(</span><span class="nx">agreed</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">onVoted</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="nx">agreed</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">voted</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="o-componente-votetakercomponent">O componente <code>VoteTakerComponent</code><a class="headerlink" href="#o-componente-votetakercomponent" title="Permanent link">&para;</a></h3>
<p>Crie agora o componente <code>VoteTakerComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component vote-taker --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>Esse componente exibe uma lista de "votantes" (representando pelo componente <code>VoterComponent</code>), guardando a quantidade total de votos a favor e contra.</p>
<p>Modifique o template do componente para:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">  &lt;h2&gt;Should mankind colonize the Universe?&lt;/h2&gt;</span>
<span class="sb">  &lt;h3&gt;Agree: {{agreed}}, Disagree: {{disagreed}}&lt;/h3&gt;</span>
<span class="sb">  &lt;app-voter *ngFor=&quot;let voter of voters&quot;</span>
<span class="sb">    [name]=&quot;voter&quot;</span>
<span class="sb">    (onVoted)=&quot;onVoted($event)&quot;&gt;</span>
<span class="sb">  &lt;/app-voter&gt;</span>
<span class="sb">`</span><span class="p">,</span>
</pre></div>
</td></tr></table>

<p>Adicione, então, as propriedades <code>agreed</code> e <code>disagreed</code>, bem como o array <code>voters</code>, que contem os nomes dos "votantes":</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">agreed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">disagreed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">voters</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Mr. IQ&#39;</span><span class="p">,</span> <span class="s1">&#39;Ms. Universe&#39;</span><span class="p">,</span> <span class="s1">&#39;Bombasto&#39;</span><span class="p">];</span>
</pre></div>
</td></tr></table>

<p>Por fim, adicione o método <code>onVoted()</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">onVoted</span><span class="p">(</span><span class="nx">agreed</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">agreed</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">agreed</span><span class="o">++</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">disagreed</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Esse método recebe como parâmetro o resultado do voto e incrementa o contador apropriado (a favor ou contra, representado pelas propriedades <code>agreed</code> e <code>disagreed</code>, respectivamente).</p>
<p>A versão final do componente <code>VoteTakerComponent</code> deve ser:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-voter-taker&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;h2&gt;Should mankind colonize the Universe?&lt;/h2&gt;</span>
<span class="sb">    &lt;h3&gt;Agree: {{agreed}}, Disagree: {{disagreed}}&lt;/h3&gt;</span>
<span class="sb">    &lt;app-voter *ngFor=&quot;let voter of voters&quot;</span>
<span class="sb">      [name]=&quot;voter&quot;</span>
<span class="sb">      (onVoted)=&quot;onVoted($event)&quot;&gt;</span>
<span class="sb">    &lt;/app-voter&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">VoteTakerComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">agreed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nx">disagreed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nx">voters</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Mr. IQ&#39;</span><span class="p">,</span> <span class="s1">&#39;Ms. Universe&#39;</span><span class="p">,</span> <span class="s1">&#39;Bombasto&#39;</span><span class="p">];</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nx">onVoted</span><span class="p">(</span><span class="nx">agreed</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">agreed</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">agreed</span><span class="o">++</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">disagreed</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Perceba que o componente pai <code>VoteTakerComponent</code> faz um binding com o evento <code>onVoted()</code> do componente filho <code>VoterComponent</code>, que devolve o valor do voto no <em>payload</em> do evento (<code>$event</code>).</p>
<p>Para ver o resultado, inclua o seguinte trecho HTML ao arquivo <code>app.component.html</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">&lt;!-- ... --&gt;</span>

<span class="c">&lt;!-- inclua um novo elemento &quot;a&quot; abaixo dos já existentes --&gt;</span>

<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#child-to-parent&quot;</span><span class="p">&gt;</span>Parent listens for child event (&quot;Colonize Universe&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>

<span class="c">&lt;!-- ... --&gt;</span>

<span class="c">&lt;!-- inclua o seguinte trecho ao final do template --&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;child-to-parent&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-vote-taker</span><span class="p">&gt;&lt;/</span><span class="nt">app-vote-taker</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<p>Esse é o resultado esperado:</p>
<p><img alt="" src="../img/child-to-parent.gif" /></p>
<h2 id="componente-pai-interagindo-com-o-filho-via-variavel-local">Componente pai interagindo com o filho via variável local<a class="headerlink" href="#componente-pai-interagindo-com-o-filho-via-variavel-local" title="Permanent link">&para;</a></h2>
<p>Um componente pai <strong>não</strong> pode usar data binding para <strong>ler as propriedades</strong> ou <strong>invocar métodos</strong> de um componente filho.</p>
<p>Para conseguir fazer isso, você pode criar uma variável no template pai para referenciar o elemento filho.</p>
<h3 id="o-componente-countdowntimercomponent">O componente <code>CountdownTimerComponent</code><a class="headerlink" href="#o-componente-countdowntimercomponent" title="Permanent link">&para;</a></h3>
<p>Crie agora o componente <code>CountdownTimerComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component countdown-timer --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>Modifique o conteúdo do componente como a seguir:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnDestroy</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-countdown-timer&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="s1">&#39;&lt;p&gt;{{message}}&lt;/p&gt;&#39;</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">CountdownTimerComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">OnDestroy</span> <span class="p">{</span>

  <span class="nx">intervalId</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nx">message</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
  <span class="nx">seconds</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>

  <span class="nx">clearTimer</span><span class="p">()</span> <span class="p">{</span> <span class="nx">clearInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">intervalId</span><span class="p">);</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span>    <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span> <span class="p">}</span>
  <span class="nx">ngOnDestroy</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">clearTimer</span><span class="p">();</span> <span class="p">}</span>

  <span class="nx">start</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">countDown</span><span class="p">();</span> <span class="p">}</span>
  <span class="nx">stop</span><span class="p">()</span>  <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">clearTimer</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="sb">`Holding at T-</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">seconds</span><span class="si">}</span><span class="sb"> seconds`</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kr">private</span> <span class="nx">countDown</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">clearTimer</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">intervalId</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">setInterval</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">seconds</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">seconds</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="s1">&#39;Blast off!&#39;</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">seconds</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">seconds</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="p">}</span> <span class="c1">// reset</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="sb">`T-</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">seconds</span><span class="si">}</span><span class="sb"> seconds and counting`</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>O componente <code>CountdownTimerComponent</code> repetidamente faz uma contagem regressiva até zero e lança um foguete. Os métodos <code>start()</code> e <code>stop()</code> controlam o relógio, e o componente também exibe o status da contagem regressiva em seu template.</p>
<h3 id="o-componente-countdownlocalvarparentcomponent">O componente <code>CountdownLocalVarParentComponent</code><a class="headerlink" href="#o-componente-countdownlocalvarparentcomponent" title="Permanent link">&para;</a></h3>
<p>Crie agora o componente pai <code>CountdownLocalVarParentComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component countdown-local-var-parent --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>O componente não pode fazer um data binding para os métodos <code>start()</code> e <code>stop()</code> ou para a propriedade <code>seconds</code> do componente filho.</p>
<p>Ao invés disso, vamos criar uma variável local (<code>#timer</code>) na tag <code>&lt;countdown-timer&gt;</code>, que representa o componente filho. Isso nos dá uma referência para o componente filho e a habilidade de acessar qualquer propriedade ou método a partir do template pai.</p>
<p>Modifique, então, o conteúdo do componente <code>CountdownLocalVarParentComponent</code> como a seguir:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-countdown-local-var-parent&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;h3&gt;Countdown to Liftoff (via local variable)&lt;/h3&gt;</span>
<span class="sb">    &lt;button (click)=&quot;timer.start()&quot;&gt;Start&lt;/button&gt;</span>
<span class="sb">    &lt;button (click)=&quot;timer.stop()&quot;&gt;Stop&lt;/button&gt;</span>
<span class="sb">    &lt;div class=&quot;seconds&quot;&gt;{{timer.seconds}}&lt;/div&gt;</span>
<span class="sb">    &lt;app-countdown-timer #timer&gt;&lt;/app-countdown-timer&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[</span><span class="sb">`</span>
<span class="sb">    .seconds {</span>
<span class="sb">      background-color: black;</span>
<span class="sb">      color: red;</span>
<span class="sb">      font-size: 3em;</span>
<span class="sb">      margin: 0.3em 0;</span>
<span class="sb">      text-align: center;</span>
<span class="sb">      width: 1.5em;</span>
<span class="sb">    }    </span>
<span class="sb">  `</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">CountdownLocalVarParentComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Esse exemplo associa os botões do componente pai aos métodos <code>start()</code> e <code>stop()</code> do componente filho, bem como faz uma interpolação para exibir a propriedade <code>seconds</code> do componente filho no template do componente pai.</p>
<p>Para ver esse exemplo funcionando, adicione o seguinte trecho html ao final do <code>app.component.html</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">&lt;!-- ... --&gt;</span>

<span class="c">&lt;!-- inclua um novo elemento &quot;a&quot; abaixo dos já existentes --&gt;</span>

<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#parent-to-child-local-var&quot;</span><span class="p">&gt;</span>Parent to child via <span class="p">&lt;</span><span class="nt">i</span><span class="p">&gt;</span>local variable<span class="p">&lt;/</span><span class="nt">i</span><span class="p">&gt;</span>(&quot;Countdown to Liftoff&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>

<span class="c">&lt;!-- ... --&gt;</span>

<span class="c">&lt;!-- inclua o seguinte trecho ao final do template --&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;parent-to-child-local-var&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-countdown-local-var-parent</span><span class="p">&gt;&lt;/</span><span class="nt">app-countdown-local-var-parent</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<p>Aqui, vemos os componentes pai e filho trabalhando juntos:</p>
<p><img alt="" src="../img/countdown-timer-anim.gif" /></p>
<h2 id="componente-pai-chamando-um-viewchild">Componente pai chamando um @ViewChild()<a class="headerlink" href="#componente-pai-chamando-um-viewchild" title="Permanent link">&para;</a></h2>
<p>A abordagem de interação entre componentes via variável local é simples e fácil. Mas ela é limitada, pois a ligação entre os componentes pai e filho deve ser feita inteiramente no template do componente pai. O componente pai em si não tem acesso ao componente filho.</p>
<p>Você não consegue usar a técnica da variável local se uma instância da classe do componente pai precisar ler ou escrever valores ou ainda chamar métodos do componente filho.</p>
<p>Quando a classe do componetne pai precisa desse tipo de acesso, injete o componente filho no componente pai na forma de um <code>ViewChild</code>.</p>
<p>O exercício a seguir ilustra essa técnica com o mesmo exemplo do "CountdownTimer" que usamos anteriormente para a técnica da interação entre componentes via variável local. A aparência e o comportamento do exemplo é o mesmo. Inclusive, o componente filho <code>CountdownTimerComponent</code> é o mesmo. O exemplo serve somente como demonstração.</p>
<p>Crie um novo componente pai <code>CountdownViewChildParentComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component countdown-view-child-parent --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>Esse deve ser o conteúdo do componente <code>CountdownViewChildParentComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">AfterViewInit</span><span class="p">,</span> <span class="nx">ViewChild</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span>                <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">CountdownTimerComponent</span> <span class="p">}</span>  <span class="nx">from</span> <span class="s1">&#39;./countdown-timer.component&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;countdown-parent-vc&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;h3&gt;Countdown to Liftoff (via ViewChild)&lt;/h3&gt;</span>
<span class="sb">    &lt;button (click)=&quot;start()&quot;&gt;Start&lt;/button&gt;</span>
<span class="sb">    &lt;button (click)=&quot;stop()&quot;&gt;Stop&lt;/button&gt;</span>
<span class="sb">    &lt;div class=&quot;seconds&quot;&gt;{{ seconds() }}&lt;/div&gt;</span>
<span class="sb">    &lt;app-countdown-timer&gt;&lt;/app-countdown-timer&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[</span><span class="sb">`</span>
<span class="sb">    .seconds {</span>
<span class="sb">        background-color: black;</span>
<span class="sb">        color: red;</span>
<span class="sb">        font-size: 3em;</span>
<span class="sb">        margin: 0.3em 0;</span>
<span class="sb">        text-align: center;</span>
<span class="sb">        width: 1.5em;</span>
<span class="sb">      }    </span>
<span class="sb">  `</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">CountdownViewChildParentComponent</span> <span class="kr">implements</span> <span class="nx">AfterViewInit</span> <span class="p">{</span>

  <span class="err">@</span><span class="nx">ViewChild</span><span class="p">(</span><span class="nx">CountdownTimerComponent</span><span class="p">)</span>
  <span class="kr">private</span> <span class="nx">timerComponent</span><span class="o">:</span> <span class="nx">CountdownTimerComponent</span><span class="p">;</span>

  <span class="nx">seconds</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

  <span class="nx">ngAfterViewInit</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Redefine `seconds()` to get from the `CountdownTimerComponent.seconds` ...</span>
    <span class="c1">// but wait a tick first to avoid one-time devMode</span>
    <span class="c1">// unidirectional-data-flow-violation error</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">seconds</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">timerComponent</span><span class="p">.</span><span class="nx">seconds</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">start</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">timerComponent</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span> <span class="p">}</span>
  <span class="nx">stop</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">timerComponent</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Dá um pouco mais de trabalho para recuperar a visão do componente filho na classe do componente pai.</p>
<p>Primeiro, vocÊ deve importar as referências para o decorador <code>ViewChild</code> e para a interface <code>AfterViewInit</code> do lifecycle hook:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">AfterViewInit</span><span class="p">,</span> <span class="nx">ViewChild</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>A seguir, você injeta o componente filho <code>CountdownTimerComponent</code> na propriedade privada <code>timerComponent</code>, usando o decorador <code>@ViewChild</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="err">@</span><span class="nx">ViewChild</span><span class="p">(</span><span class="nx">CountdownTimerComponent</span><span class="p">)</span>
<span class="kr">private</span> <span class="nx">timerComponent</span><span class="o">:</span> <span class="nx">CountdownTimerComponent</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>A variável local <code>#timer</code> não existe mais no template do componente pai. Ao invés disso, os botões são associados, via binding de evento, aos métodos <code>start()</code> e <code>stop()</code> do próprio componente pai. Já a exibição dos segundos da contagem regressiva é associada, via interpolação, ao método <code>seconds()</code> do próprio componente pai.</p>
<p>Esses métodos acessam o componente filho diretamente, através da propriedade injetada <code>timerComponent</code>.</p>
<p>O método hook <code>ngAfterViewInit()</code> é muito importante nesse exemplo.</p>
<p>O componente filho só está disponível após o Angular exibir totalmente a visão do componente pai. A regra do fluxo de dados unidirecional do Angular impede que o componente pai utilize o componente filho no primeiro ciclo de atualização. Por isso, o método <code>seconds()</code> retorna inicialmente 0 segundos.</p>
<p>Quando o Angular chama o método <code>ngAfterViewInit()</code>, é muito tarde para atualizar a visão do componente pai para exibir os segundos da contagem regressiva. É preciso aguardar um "turno" antes de atualizar os segundos.</p>
<p>Por isso, usamos o método <code>setTimeout()</code> a fim de esperar um ciclo de atualização do Angular e, somente então, redefinimos o método <code>seconds()</code> para recuperar as atualizações a partir do componente filho, injetado na propriedade <code>timerComponent</code>.</p>
<p>Para ver esse exemplo funcionando, adicione o seguinte trecho html ao final do <code>app.component.html</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">&lt;!-- ... --&gt;</span>

<span class="c">&lt;!-- inclua um novo elemento &quot;a&quot; abaixo dos já existentes --&gt;</span>

<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#parent-to-view-child&quot;</span><span class="p">&gt;</span>Parent calls <span class="p">&lt;</span><span class="nt">i</span><span class="p">&gt;</span>ViewChild<span class="p">&lt;/</span><span class="nt">i</span><span class="p">&gt;</span>(&quot;Countdown  to Liftoff&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>

<span class="c">&lt;!-- ... --&gt;</span>

<span class="c">&lt;!-- inclua o seguinte trecho ao final do template --&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;parent-to-view-child&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-countdown-view-child-parent</span><span class="p">&gt;&lt;/</span><span class="nt">app-countdown-view-child-parent</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<h2 id="comunicacao-via-servico">Comunicação via serviço<a class="headerlink" href="#comunicacao-via-servico" title="Permanent link">&para;</a></h2>
<p>Nessa forma de interação, o componente pai e o componente filho compartilham um serviço cuja interface permite a comunicação bidirecional.</p>
<p>O escopo da instância do serviço deve abranger o componente pai e seus componentes filhos. Componentes foram dessa sub-árvore de componentes não tem acesso ao serviço e a suas comunicações.</p>
<h3 id="o-servico-missionservice">O serviço <code>MissionService</code><a class="headerlink" href="#o-servico-missionservice" title="Permanent link">&para;</a></h3>
<p>Nesse exemplo, o serviço <code>MissionService</code> conectar o <code>MissionControlComponent</code> aos seus múltiplos componentes filhos <code>AstronautComponent</code>.</p>
<p>Crie o serviço <code>MissionService</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate service mission --no-spec
</pre></div>
</td></tr></table>

<p>Modifique o arquivo <code>src/app/mission.service.ts</code> como abaixo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Subject</span> <span class="p">}</span>    <span class="nx">from</span> <span class="s1">&#39;rxjs&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Injectable</span><span class="p">()</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">MissionService</span> <span class="p">{</span>

  <span class="c1">// Observable string sources</span>
  <span class="kr">private</span> <span class="nx">missionAnnouncedSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Subject</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">();</span>
  <span class="kr">private</span> <span class="nx">missionConfirmedSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Subject</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">();</span>

  <span class="c1">// Observable string streams</span>
  <span class="nx">missionAnnounced$</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">missionAnnouncedSource</span><span class="p">.</span><span class="nx">asObservable</span><span class="p">();</span>
  <span class="nx">missionConfirmed$</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">missionConfirmedSource</span><span class="p">.</span><span class="nx">asObservable</span><span class="p">();</span>

  <span class="c1">// Service message commands</span>
  <span class="nx">announceMission</span><span class="p">(</span><span class="nx">mission</span><span class="o">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">missionAnnouncedSource</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="nx">mission</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">confirmMission</span><span class="p">(</span><span class="nx">astronaut</span><span class="o">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">missionConfirmedSource</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="nx">astronaut</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>As propriedades <code>missionAnnounced$</code> e <code>missionConfirmed$</code> são do tipo <code>Observable</code> e representam os fluxos de eventos para missões anunciadas (isto é, missões criadas) e para missões confirmadas (isto é, quando um astronauta aceitou uma nova missão), respectivamente. O componente pai e os seus componentes filhos irão criar assinaturas para observar as mudanças nesses fluxos de eventos.</p>
<p>Os métodos <code>announceMission()</code> e <code>confirmMission()</code> são responsáveis por criar novas missões e confirmar um astronauta a uma missão, respectivamente, criando um novo evento (<code>next()</code>) no <code>Subject</code> apropriado.</p>
<h3 id="o-componente-missioncontrolcomponent">O componente <code>MissionControlComponent</code><a class="headerlink" href="#o-componente-missioncontrolcomponent" title="Permanent link">&para;</a></h3>
<p>Crie agora o componente pai <code>MissionControlComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component mission-control --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>O componente pai <code>MissionControlComponent</code> provê a instância do serviço <code>MissionService</code>, compartilhando-a com seus componentes filhos.</p>
<p>Por isso, inclua o serviço no array <code>providers</code> do decorador <code>@Component</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">MissionService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./mission.service&#39;</span><span class="p">;</span> <span class="c1">// &lt;-- não esqueça do import</span>

<span class="p">(...)</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>  
  <span class="p">(...)</span>
  <span class="nx">providers</span><span class="o">:</span> <span class="p">[</span><span class="nx">MissionService</span><span class="p">]</span> <span class="c1">// &lt;-- inclua o serviço &quot;MissionService&quot; no array &quot;providers&quot;</span>
<span class="p">})</span>
</pre></div>
</td></tr></table>

<p>Modifique o template do componente <code>MissionControlComponent</code> para:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">  &lt;h2&gt;Mission Control&lt;/h2&gt;</span>
<span class="sb">  &lt;button (click)=&quot;announce()&quot;&gt;Announce mission&lt;/button&gt;</span>
<span class="sb">  &lt;app-astronaut *ngFor=&quot;let astronaut of astronauts&quot;</span>
<span class="sb">    [astronaut]=&quot;astronaut&quot;&gt;</span>
<span class="sb">  &lt;/app-astronaut&gt;</span>
<span class="sb">  &lt;h3&gt;History&lt;/h3&gt;</span>
<span class="sb">  &lt;ul&gt;</span>
<span class="sb">    &lt;li *ngFor=&quot;let event of history&quot;&gt;{{event}}&lt;/li&gt;</span>
<span class="sb">  &lt;/ul&gt;</span>
<span class="sb">`</span><span class="p">,</span>
</pre></div>
</td></tr></table>

<p>Inclua as propriedades referenciadas no template:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">astronauts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Lovell&#39;</span><span class="p">,</span> <span class="s1">&#39;Swigert&#39;</span><span class="p">,</span> <span class="s1">&#39;Haise&#39;</span><span class="p">];</span>
<span class="nx">history</span><span class="o">:</span> <span class="nx">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
<span class="nx">missions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Fly to the moon!&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Fly to mars!&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Fly to Vegas!&#39;</span><span class="p">];</span>
<span class="nx">nextMission</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>Inclua também o método <code>announce()</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">announce</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">mission</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">missions</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">nextMission</span><span class="o">++</span><span class="p">];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">missionService</span><span class="p">.</span><span class="nx">announceMission</span><span class="p">(</span><span class="nx">mission</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="sb">`Mission &quot;</span><span class="si">${</span><span class="nx">mission</span><span class="si">}</span><span class="sb">&quot; announced`</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">nextMission</span> <span class="o">&gt;=</span> <span class="k">this</span><span class="p">.</span><span class="nx">missions</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">nextMission</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Por fim, crie uma assinatura na propriedade <code>missionConfirmed$</code> do serviço <code>MissionService</code>, invocando o método <code>subscribe()</code>.</p>
<p>A função callback irá receber o astronauta confirmado para a nova missão. Essa é parte da comunicação na direção "do filho para o pai".</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">missionService</span><span class="o">:</span> <span class="nx">MissionService</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">missionService</span><span class="p">.</span><span class="nx">missionConfirmed$</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
    <span class="nx">astronaut</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">astronaut</span><span class="si">}</span><span class="sb"> confirmed the mission`</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>A versão final do componente <code>MissionControlComponent</code> é:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MissionService</span> <span class="p">}</span>     <span class="nx">from</span> <span class="s1">&#39;./mission.service&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-mission-control&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;h2&gt;Mission Control&lt;/h2&gt;</span>
<span class="sb">    &lt;button (click)=&quot;announce()&quot;&gt;Announce mission&lt;/button&gt;</span>
<span class="sb">    &lt;app-astronaut *ngFor=&quot;let astronaut of astronauts&quot;</span>
<span class="sb">      [astronaut]=&quot;astronaut&quot;&gt;</span>
<span class="sb">    &lt;/app-astronaut&gt;</span>
<span class="sb">    &lt;h3&gt;History&lt;/h3&gt;</span>
<span class="sb">    &lt;ul&gt;</span>
<span class="sb">      &lt;li *ngFor=&quot;let event of history&quot;&gt;{{event}}&lt;/li&gt;</span>
<span class="sb">    &lt;/ul&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[],</span>
  <span class="nx">providers</span><span class="o">:</span> <span class="p">[</span><span class="nx">MissionService</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">MissionControlComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nx">astronauts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Lovell&#39;</span><span class="p">,</span> <span class="s1">&#39;Swigert&#39;</span><span class="p">,</span> <span class="s1">&#39;Haise&#39;</span><span class="p">];</span>
  <span class="nx">history</span><span class="o">:</span> <span class="nx">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="nx">missions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Fly to the moon!&#39;</span><span class="p">,</span>
              <span class="s1">&#39;Fly to mars!&#39;</span><span class="p">,</span>
              <span class="s1">&#39;Fly to Vegas!&#39;</span><span class="p">];</span>
  <span class="nx">nextMission</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="nx">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">missionService</span><span class="o">:</span> <span class="nx">MissionService</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">missionService</span><span class="p">.</span><span class="nx">missionConfirmed$</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
      <span class="nx">astronaut</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">astronaut</span><span class="si">}</span><span class="sb"> confirmed the mission`</span><span class="p">);</span>
      <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nx">announce</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">mission</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">missions</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">nextMission</span><span class="o">++</span><span class="p">];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">missionService</span><span class="p">.</span><span class="nx">announceMission</span><span class="p">(</span><span class="nx">mission</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="sb">`Mission &quot;</span><span class="si">${</span><span class="nx">mission</span><span class="si">}</span><span class="sb">&quot; announced`</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">nextMission</span> <span class="o">&gt;=</span> <span class="k">this</span><span class="p">.</span><span class="nx">missions</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">nextMission</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="o-componente-astronautcomponent">O componente <code>AstronautComponent</code><a class="headerlink" href="#o-componente-astronautcomponent" title="Permanent link">&para;</a></h3>
<p>Crie agora o componente <code>AstronautComponent</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ng generate component astronaut --no-spec --flat --inline-style <span class="nb">true</span> --inline-template <span class="nb">true</span>
</pre></div>
</td></tr></table>

<p>O componente <code>AstronautComponent</code> também injeta o serviço <code>MissionService</code> no seu construtor, como a seguir. A diferença é que cada instância do <code>AstronautComponent</code> é também um filho do componente pai <code>MissionControlComponent</code> e, portanto, irá injetar a instância do serviço <code>MissionService</code> criada pelo componente pai. Por isso, não é necessário adicioná-lo ao array <code>providers</code> do decorador <code>@Component</code> do <code>AstronautComponent</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">MissionService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./mission.service&#39;</span><span class="p">;</span> <span class="c1">// &lt;!-- não esqueça do import</span>

<span class="nx">constructor</span><span class="p">(</span>
  <span class="kr">private</span> <span class="nx">missionService</span><span class="o">:</span> <span class="nx">MissionService</span><span class="p">,</span> <span class="c1">// &lt;!-- injete o serviço </span>
<span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>

<p>Modifique o template do <code>AstronautComponent</code> como a seguir:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">  &lt;p&gt;</span>
<span class="sb">    {{astronaut}}: &lt;strong&gt;{{mission}}&lt;/strong&gt;</span>
<span class="sb">    &lt;button</span>
<span class="sb">      (click)=&quot;confirm()&quot;</span>
<span class="sb">      [disabled]=&quot;!announced || confirmed&quot;&gt;</span>
<span class="sb">      Confirm</span>
<span class="sb">    &lt;/button&gt;</span>
<span class="sb">  &lt;/p&gt;</span>
<span class="sb">`</span><span class="p">,</span>
</pre></div>
</td></tr></table>

<p>Crie as propriedades referenciadas:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">astronaut</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span> <span class="c1">// &lt;!-- importe o símbolo &quot;Input&quot; da biblioteca &quot;@angular/core&quot;</span>
<span class="nx">mission</span> <span class="o">=</span> <span class="s1">&#39;&lt;no mission announced&gt;&#39;</span><span class="p">;</span>
<span class="nx">confirmed</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="nx">announced</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>O método <code>confirm()</code> irá usar o serviço <code>MissionService</code> para confirmar o astronauta à missão:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">confirm</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">confirmed</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">missionService</span><span class="p">.</span><span class="nx">confirmMission</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">astronaut</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Por fim, modifique o construtor do componente para criar uma assinatura à propriedade <code>missionAnnounced$</code> do serviço <code>MissionService</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nx">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">missionService</span><span class="o">:</span> <span class="nx">MissionService</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">subscription</span> <span class="o">=</span> <span class="nx">missionService</span><span class="p">.</span><span class="nx">missionAnnounced$</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
    <span class="nx">mission</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">mission</span> <span class="o">=</span> <span class="nx">mission</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">announced</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">confirmed</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Note que a assinatura captura o resultado do método <code>subscribe()</code> e guarda sua referência na propriedade <code>subscription</code> do componente.</p>
<p>Essa referência será utilizada no método hook <code>ngOnDestroy()</code> do componente para cancelar a assinatura quando o componente é destruído. Essa é uma forma de prevenir <em>memory leaks</em>.</p>
<p>Isso não foi feito no componente pai <code>MissionControlComponent</code> porque, como pai, ele controla o ciclo de vida do próprio serviço <code>MissionService</code>.</p>
<p>Crie, então, a nova propriedade <code>subscription</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Subscription</span> <span class="p">}</span>   <span class="nx">from</span> <span class="s1">&#39;rxjs&#39;</span><span class="p">;</span> <span class="c1">// &lt;-- não esqueça do import</span>

<span class="nx">subscription</span><span class="o">:</span> <span class="nx">Subscription</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>Por fim, crie o método hook <code>ngOnDestroy()</code> para cancelar a assinatura:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">OnDestroy</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span> <span class="c1">// &lt;-- inclua o import</span>

<span class="p">(...)</span>

<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AstronautComponent</span> <span class="kr">implements</span> <span class="nx">OnDestroy</span> <span class="p">{</span> <span class="c1">// &lt;!-- inclua a interface &quot;OnDestroy&quot; na assinatura da classe</span>

  <span class="p">(...)</span>

  <span class="nx">ngOnDestroy</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// prevent memory leak when component destroyed</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">subscription</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Segue a versão final do componente:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">MissionService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./mission.service&#39;</span><span class="p">;</span> <span class="c1">// &lt;!-- não esqueça do import</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">Input</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">OnDestroy</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Subscription</span> <span class="p">}</span>   <span class="nx">from</span> <span class="s1">&#39;rxjs&#39;</span><span class="p">;</span> <span class="c1">// &lt;-- não esqueça do import</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-astronaut&#39;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;p&gt;</span>
<span class="sb">      {{astronaut}}: &lt;strong&gt;{{mission}}&lt;/strong&gt;</span>
<span class="sb">      &lt;button</span>
<span class="sb">        (click)=&quot;confirm()&quot;</span>
<span class="sb">        [disabled]=&quot;!announced || confirmed&quot;&gt;</span>
<span class="sb">        Confirm</span>
<span class="sb">      &lt;/button&gt;</span>
<span class="sb">    &lt;/p&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AstronautComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">OnDestroy</span> <span class="p">{</span>

  <span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">astronaut</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nx">mission</span> <span class="o">=</span> <span class="s1">&#39;&lt;no mission announced&gt;&#39;</span><span class="p">;</span>
  <span class="nx">confirmed</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="nx">announced</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="nx">subscription</span><span class="o">:</span> <span class="nx">Subscription</span><span class="p">;</span>

  <span class="nx">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">missionService</span><span class="o">:</span> <span class="nx">MissionService</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">subscription</span> <span class="o">=</span> <span class="nx">missionService</span><span class="p">.</span><span class="nx">missionAnnounced$</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
      <span class="nx">mission</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">mission</span> <span class="o">=</span> <span class="nx">mission</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">announced</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">confirmed</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nx">ngOnDestroy</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// prevent memory leak when component destroyed</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">subscription</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">confirm</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">confirmed</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">missionService</span><span class="p">.</span><span class="nx">confirmMission</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">astronaut</span><span class="p">);</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Para visualizar o resultado, adicione o seguinte trecho html ao final do <code>app.component.html</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">&lt;!-- ... --&gt;</span>

<span class="c">&lt;!-- inclua um novo elemento &quot;a&quot; abaixo dos já existentes --&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#bidirectional-service&quot;</span><span class="p">&gt;</span>Parent and children communicate via a service (&quot;Mission Control&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>

<span class="c">&lt;!-- ... --&gt;</span>

<span class="c">&lt;!-- inclua o seguinte trecho ao final do template --&gt;</span>
<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;bidirectional-service&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-mission-control</span><span class="p">&gt;&lt;/</span><span class="nt">app-mission-control</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<p>O conteúdo completo do arquivo <code>app.component.html</code> deve estar como:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;top&quot;</span><span class="p">&gt;</span>Component Communication Cookbook<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#parent-to-child&quot;</span><span class="p">&gt;</span>Pass data from parent to child with input binding (&quot;Heroes&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#parent-to-child-setter&quot;</span><span class="p">&gt;</span>Intercept input property changes with a setter (&quot;Master&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#parent-to-child-on-changes&quot;</span><span class="p">&gt;</span>Intercept input property changes with <span class="p">&lt;</span><span class="nt">i</span><span class="p">&gt;</span>ngOnChanges<span class="p">&lt;/</span><span class="nt">i</span><span class="p">&gt;</span> (&quot;Source code version&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#child-to-parent&quot;</span><span class="p">&gt;</span>Parent listens for child event (&quot;Colonize Universe&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#parent-to-child-local-var&quot;</span><span class="p">&gt;</span>Parent to child via <span class="p">&lt;</span><span class="nt">i</span><span class="p">&gt;</span>local variable<span class="p">&lt;/</span><span class="nt">i</span><span class="p">&gt;</span>(&quot;Countdown to Liftoff&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#parent-to-view-child&quot;</span><span class="p">&gt;</span>Parent calls <span class="p">&lt;</span><span class="nt">i</span><span class="p">&gt;</span>ViewChild<span class="p">&lt;/</span><span class="nt">i</span><span class="p">&gt;</span>(&quot;Countdown  to Liftoff&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#bidirectional-service&quot;</span><span class="p">&gt;</span>Parent and children communicate via a service (&quot;Mission Control&quot;)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;parent-to-child&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-hero-parent</span><span class="p">&gt;&lt;/</span><span class="nt">app-hero-parent</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;parent-to-child-setter&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-name-parent</span><span class="p">&gt;&lt;/</span><span class="nt">app-name-parent</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;parent-to-child-on-changes&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-version-parent</span><span class="p">&gt;&lt;/</span><span class="nt">app-version-parent</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;child-to-parent&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-vote-taker</span><span class="p">&gt;&lt;/</span><span class="nt">app-vote-taker</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;parent-to-child-local-var&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-countdown-local-var-parent</span><span class="p">&gt;&lt;/</span><span class="nt">app-countdown-local-var-parent</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;parent-to-view-child&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-countdown-view-child-parent</span><span class="p">&gt;&lt;/</span><span class="nt">app-countdown-view-child-parent</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;bidirectional-service&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">app-mission-control</span><span class="p">&gt;&lt;/</span><span class="nt">app-mission-control</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#top&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;to-top&quot;</span><span class="p">&gt;</span>Back to Top<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<p>O log do histórico mostra que a mensagem viaja nas duas direções entre o componente pai <code>MissionControlComponent</code> e os componentes filhos <code>AstronautComponent</code>, através do serviço:</p>
<p><img alt="" src="../img/bidirectional-service.gif" /></p>
<h2 id="revisando-a-estrutura-da-aplicacao">Revisando a estrutura da aplicação<a class="headerlink" href="#revisando-a-estrutura-da-aplicacao" title="Permanent link">&para;</a></h2>
<p>Nesse momento, a sua aplicação deve ter a seguinte estrutura:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>exercicio-component-interaction/
|
|-- node_modules/
|-- src/
|  |-- app/
|  |  |-- app.component.ts
|  |  |-- app.module.ts
|  |  |-- astronaut.component.ts
|  |  |-- countdown-local-var-parent.component.ts
|  |  |-- countdown-timer.component.ts
|  |  |-- countdown-view-child-parent.component.ts
|  |  |-- hero-child.component.ts
|  |  |-- hero-parent.component.ts
|  |  |-- hero.ts
|  |  |-- mission-control.component.ts
|  |  |-- mission.service.ts
|  |  |-- name-child.component.ts
|  |  |-- name-parent.component.ts
|  |  |-- version-child.component.ts
|  |  |-- version-parent.component.ts
|  |  |-- vote-taker.component.ts
|  |  |-- voter.component.ts
|  |-- index.html
|  |-- main.ts
|  |-- styles.css
|  |-- ...
|-- .angular-cli.json
|-- package.json
|-- ...
</pre></div>
</td></tr></table>

<h2 id="resumo">Resumo<a class="headerlink" href="#resumo" title="Permanent link">&para;</a></h2>
<ul>
<li>Adicionamos as dependências necessárias para usar HTTP.</li>
<li>Refatoramos o <code>HeroService</code> para recuperar os heróis a partir de uma API.</li>
<li>Adicionamos os métodos <code>post()</code>, <code>put()</code> e <code>delete()</code> ao <code>HeroService</code>.</li>
<li>Atualizamos os componentes para permitir a criação, edição e deleção de heróis.</li>
<li>Configuramos uma API em memória.</li>
<li>Aprendemos a usar <code>Observables</code>.</li>
</ul>
<h2 id="proximo-passo">Próximo passo<a class="headerlink" href="#proximo-passo" title="Permanent link">&para;</a></h2>
<p><a href="../exercicio-11/">Exercício 11</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../exercicio-09/" title="09 - Lifecycle Hooks" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                09 - Lifecycle Hooks
              </span>
            </div>
          </a>
        
        
          <a href="../exercicio-11/" title="11 - Diretivas Estruturais" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Próximo
                </span>
                11 - Diretivas Estruturais
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.30f6b8b1.js"></script>
      
        
        
      
      <script>app.initialize({version:"0.17.5",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>